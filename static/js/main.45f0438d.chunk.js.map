{"version":3,"sources":["App.js","index.js"],"names":["Info","country","weatherData","name","capital","population","languages","map","language","iso639_1","src","flag","alt","width","style","border","temperature","observation_time","weather_icons","App","useState","query","setQuery","allCountries","setAlCountries","countries","setCountries","setWeatherData","useEffect","axios","get","then","res","data","length","current","console","log","show","e","target","id","filter","countryData","trim","substring","toUpperCase","className","htmlFor","type","value","onChange","onClick","alpha2Code","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6KAKMA,EAAO,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YACvB,OACE,gCACE,6BAAKD,EAAQE,OAEb,8CACA,0CAAaF,EAAQG,WACrB,6CAAgBH,EAAQI,cACxB,0CACA,6BACGJ,EAAQK,UAAUC,KAAI,SAACC,GAAD,OACrB,6BAA6BA,EAASL,MAA7BK,EAASC,eAGtB,uBACA,qBACEC,IAAKT,EAAQU,KACbC,IAAI,OACJC,MAAM,QACNC,MAAO,CAAEC,OAAQ,qBAEnB,8CACA,8CAAiBb,EAAYc,YAA7B,YACA,6CAAgBd,EAAYe,oBAC5B,qBAAKP,IAAKR,EAAYgB,cAAeN,IAAI,aA2FhCO,EAtFH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,OAEuBF,mBAAS,IAFhC,mBAETG,EAFS,KAEKC,EAFL,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAIsBN,mBAAS,IAJ/B,mBAITlB,EAJS,KAIIyB,EAJJ,KAMhBC,qBAAU,WACRC,IAAMC,IAAI,wCAAwCC,MAAK,SAACC,GACtDR,EAAeQ,EAAIC,WAEpB,IAEHL,qBAAU,WACiB,IAArBH,EAAUS,SACZL,IACGC,IADH,yDA7CI,mCA6CJ,kBAEmEL,EAAU,GAAGtB,OAE7E4B,MAAK,SAACC,GACLL,EAAeK,EAAIC,KAAKE,SACxBC,QAAQC,IAAIL,EAAIC,KAAKE,YAEzBC,QAAQC,IAAI,aAEb,CAACZ,IAEJ,IAiBMa,EAAO,SAACC,GACZjB,EAASiB,EAAEC,OAAOC,IAClBf,EACEH,EAAamB,QAAO,SAACC,GACnB,MAA2B,KAAvBJ,EAAEC,OAAOC,GAAGG,QAEZD,EAAYxC,KAAK0C,UAAU,EAAGN,EAAEC,OAAOC,GAAGP,QAAQY,gBAClDP,EAAEC,OAAOC,GAAGK,mBAQtB,OACE,sBAAKC,UAAU,MAAf,UACE,8CAEA,uBAAOC,QAAQ,OAAf,2BACA,uBAAOC,KAAK,OAAOR,GAAG,OAAOS,MAAO7B,EAAO8B,SArC1B,SAACZ,GACpBjB,EAASiB,EAAEC,OAAOU,OAElBxB,EACEH,EAAamB,QAAO,SAACC,GACnB,MAA8B,KAA1BJ,EAAEC,OAAOU,MAAMN,QAEfD,EAAYxC,KACT0C,UAAU,EAAGN,EAAEC,OAAOU,MAAMhB,QAC5BY,gBAAkBP,EAAEC,OAAOU,MAAMJ,qBA6B1C,6BACwB,IAArBrB,EAAUS,OACT,0DACET,EAAUS,OAAS,GACrB,kDACET,EAAUS,OAAS,EACrBT,EAAUlB,KAAI,SAACN,GAAD,OACZ,gCACE,6BAAKA,EAAQE,OACb,wBAAQiD,QAASd,EAAMG,GAAIxC,EAAQE,KAAnC,oBAFQF,EAAQoD,eAQpB,cAAC,EAAD,CAAMpD,QAASwB,EAAU,GAAIvB,YAAaA,UC7GpDoD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.45f0438d.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nlet key = \"e7c5b11da593d4107e43a6907c8f2f61\";\n\nconst Info = ({ country, weatherData }) => {\n  return (\n    <div>\n      <h1>{country.name}</h1>\n\n      <h2>Country Info</h2>\n      <p>Capital: {country.capital}</p>\n      <p>Population: {country.population}</p>\n      <p>Languages</p>\n      <ul>\n        {country.languages.map((language) => (\n          <li key={language.iso639_1}>{language.name}</li>\n        ))}\n      </ul>\n      <br />\n      <img\n        src={country.flag}\n        alt=\"flag\"\n        width=\"100px\"\n        style={{ border: 1 + \"px solid black\" }}\n      />\n      <h2>Weather Data</h2>\n      <p>Temperature: {weatherData.temperature} Â°C</p>\n      <p>Local Time: {weatherData.observation_time}</p>\n      <img src={weatherData.weather_icons} alt=\"icon\" />\n    </div>\n  );\n};\n\nconst App = () => {\n  const [query, setQuery] = useState(\"\");\n  const [allCountries, setAlCountries] = useState([]);\n  const [countries, setCountries] = useState([]);\n  const [weatherData, setWeatherData] = useState({});\n\n  useEffect(() => {\n    axios.get(\"https://restcountries.eu/rest/v2/all\").then((res) => {\n      setAlCountries(res.data);\n    });\n  }, []);\n\n  useEffect(() => {\n    if (countries.length === 1) {\n      axios\n        .get(\n          `http://api.weatherstack.com/current?access_key=${key}&query=${countries[0].name}`\n        )\n        .then((res) => {\n          setWeatherData(res.data.current);\n          console.log(res.data.current);\n        });\n      console.log(\"render\");\n    }\n  }, [countries]);\n\n  const handleChange = (e) => {\n    setQuery(e.target.value);\n\n    setCountries(\n      allCountries.filter((countryData) => {\n        if (e.target.value.trim() !== \"\") {\n          return (\n            countryData.name\n              .substring(0, e.target.value.length)\n              .toUpperCase() === e.target.value.toUpperCase()\n          );\n        }\n        return false;\n      })\n    );\n  };\n\n  const show = (e) => {\n    setQuery(e.target.id);\n    setCountries(\n      allCountries.filter((countryData) => {\n        if (e.target.id.trim() !== \"\") {\n          return (\n            countryData.name.substring(0, e.target.id.length).toUpperCase() ===\n            e.target.id.toUpperCase()\n          );\n        }\n        return false;\n      })\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Find Country</h1>\n\n      <label htmlFor=\"find\">Find Country </label>\n      <input type=\"text\" id=\"find\" value={query} onChange={handleChange} />\n      <ul>\n        {countries.length === 0 ? (\n          <h3>Type something to search</h3>\n        ) : countries.length > 10 ? (\n          <h3>Too many results</h3>\n        ) : countries.length > 1 ? (\n          countries.map((country) => (\n            <div key={country.alpha2Code}>\n              <li>{country.name}</li>\n              <button onClick={show} id={country.name}>\n                Show\n              </button>\n            </div>\n          ))\n        ) : (\n          <Info country={countries[0]} weatherData={weatherData} />\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}